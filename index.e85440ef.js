!function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var t,n,a,r,o,l={};l=JSON.parse('{"fields":[{"label":"Name:","name":"name","type":"text","dataQa":"name","minlength":4},{"label":"Position:","name":"position","type":"text","dataQa":"position","minlength":4},{"label":"Office:","name":"office","type":"select","dataQa":"office","options":["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"]},{"label":"Age:","name":"age","type":"number","dataQa":"age","min":18,"max":90},{"label":"Salary:","name":"salary","type":"number","dataQa":"salary"}]}');var c=document.querySelector("table"),i=function(){document.querySelectorAll("input").forEach(function(e){return e.value=""})},s=((t=document.createElement("h3")).setAttribute("data-qa","notification"),t.classList.add("notification"),t.innerText="",t.style.cssText="\n  display: none;\n  ",document.querySelector("body").after(t),t);function u(e,t){e.style.display="flex",e.classList.add("error"),e.classList.remove("success"),e.textContent=t}var d=document.querySelectorAll("thead > tr > th"),m=document.getElementsByTagName("tbody")[0],f=Array.from(m.rows),p=Array.from(d).map(function(e,t){var n;return n=!1,function(e){return n=!n,e.sort(function(e,a){var r=e.cells[t].textContent.replaceAll(/[$,]/g,""),o=a.cells[t].textContent.replaceAll(/[$,]/g,"");return isNaN(+r)||(r=+r,o=+o),n?r>o?1:r<o?-1:0:r>o?-1:r<o?1:0})}});a=(n=l)&&n.__esModule?n.default:n,(r=document.createElement("form")).classList.add("new-employee-form"),a.fields.forEach(function(e){var t=function(e){var t=document.createElement("label");if(t.textContent=e.label,"select"!==e.type){var n=document.createElement("input");n.name=e.name,n.type=e.type,n.required=!0,n.setAttribute("data-qa",e.dataQa),t.append(n)}else if("select"===e.type){var a=document.createElement("select");a.setAttribute("data-qa",e.dataQa),a.name=e.name,e.options.forEach(function(e){var t=document.createElement("option");t.value=e,t.append(e),a.append(t)}),t.append(a)}return t}(e);r.append(t)}),(o=document.createElement("button")).textContent="Save to table",r.append(o),r.addEventListener("submit",function(e){e.preventDefault()}),c.after(r),document.querySelector("button").addEventListener("click",function(){var e,t,n,a,r,o,l,c=(o=document.querySelectorAll("label"),l={},o.forEach(function(e){var t=e.querySelector("input"),n=e.querySelector("select");if(t){var a=t.value.trimStart();if("salary"===t.name){var r=+a,o="$".concat(r.toLocaleString());l[t.name]=o}else l[t.name]=a}else n&&(l[n.name]=n.value)}),l);if(t=(e=c).name,n=e.position,a=e.age,r=e.salary,t&&n&&r&&a?t.length<4?(u(s,"Name has less than 4 letters"),!1):a<18||a>90?(u(s,"Age shoud not be less 18 or up 90"),!1):(s.classList.remove("error"),s.classList.add("success"),s.textContent="Successfully aded",i(),!0):(u(s,"All fields are required"),!1)){var d=document.createElement("tr");Object.values(c).forEach(function(e){var t=document.createElement("td");t.textContent=e,d.append(t)}),m.append(d),f=Array.from(m.rows)}}),d.forEach(function(t,n){t.addEventListener("click",function(){var t;m.append.apply(m,function(t){if(Array.isArray(t))return e(t)}(t=p[n](f))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var a=Object.prototype.toString.call(t).slice(8,-1);if("Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})}),Array.from(m.rows).forEach(function(e){e.addEventListener("click",function(){(function(e){Array.from(e).forEach(function(e){return e.className=""})})(m.rows),e.classList.toggle("active")})})}();
//# sourceMappingURL=index.e85440ef.js.map
